webpackJsonp([8,14],{180:function(t,s,e){e(265);var a=e(24)(e(260),e(276),null,null);t.exports=a.exports},187:function(t,s,e){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}s.__esModule=!0;var i=e(69),n=a(i);s.default=n.default||function(t){for(var s=1;s<arguments.length;s++){var e=arguments[s];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t}},194:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(187),i=e.n(a),n=e(62);s.default={data:function(){return{}},mounted:function(){sessionStorage.getItem("user")&&(this.$store.state.isLogin=!0,this.$store.state.user=JSON.parse(sessionStorage.getItem("user"))),this.getNotificationsCount()},computed:{isLogin:function(){return this.$store.state.isLogin},userAvatar:function(){return this.$store.state.user.avatar},userId:function(){return this.$store.state.user.id},notifications_count:function(){return this.$store.state.notifications_count}},methods:i()({},e.i(n.a)(["USER_SIGNOUT","NOTIFICATIONS_COUNT"]),{logout:function(){this.USER_SIGNOUT(),this.$router.push("/")},getNotificationsCount:function(){var t=this.$store.state.user.id;t&&this.NOTIFICATIONS_COUNT(t)}})}},195:function(t,s,e){var a=e(24)(e(194),e(196),null,null);t.exports=a.exports},196:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"site-header"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10 col-md-offset-1"},[e("div",{staticClass:"head-nav"},[e("router-link",{attrs:{to:{name:"start"}}},[e("h1",[t._v("IKnow")])]),t._v(" "),e("nav",{staticClass:"site-header-nav",attrs:{role:"navigation"}},[e("router-link",{staticClass:"site-header-nav-item active",attrs:{to:{name:"start"}}},[t._v("首页")]),t._v(" "),e("router-link",{staticClass:"site-header-nav-item",attrs:{to:{name:"start"}}},[t._v("名人圈")])],1)],1),t._v(" "),t.isLogin?e("div",{staticClass:"header-user-panel"},[e("section",[e("router-link",{staticClass:"message",attrs:{to:{name:"message"}}},[e("i",{staticClass:"fa fa-bell-o fa-header-bell"}),t._v(" "),t.notifications_count>0?e("span",{staticClass:"badge bell-badge"},[t._v(t._s(t.notifications_count))]):t._e()]),t._v(" "),e("el-dropdown",[e("a",{staticClass:"avatar el-dropdown-link"},[e("img",{attrs:{src:t.userAvatar}})]),t._v(" "),e("el-dropdown-menu",{slot:"dropdown"},[e("el-dropdown-item",[e("router-link",{attrs:{to:{name:"account",params:{id:t.userId}}}},[t._v("我的主页")])],1),t._v(" "),e("el-dropdown-item",[e("router-link",{attrs:{to:{name:"posts"}}},[t._v("我的帖子")])],1),t._v(" "),e("el-dropdown-item",[e("router-link",{attrs:{to:{name:"collect"}}},[t._v("我的收藏")])],1),t._v(" "),e("el-dropdown-item",[e("router-link",{attrs:{to:{name:"profile"}}},[t._v("账户设置")])],1),t._v(" "),e("el-dropdown-item",{attrs:{divided:""}},[e("a",{on:{click:t.logout}},[t._v("退出")])])],1)],1)],1)]):t._e(),t._v(" "),t.isLogin?t._e():e("div",{staticClass:"header-user-login"},[e("router-link",{attrs:{to:{name:"login"}}},[t._v("登录")]),t._v("\n                    /\n                    "),e("router-link",{attrs:{to:{name:"register"}}},[t._v("注册")])],1)])])])])},staticRenderFns:[]}},260:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(187),i=e.n(a),n=e(62),r=e(195),o=e.n(r);s.default={data:function(){return{}},computed:{messages:function(){return this.$store.state.messages}},mounted:function(){this.getMessages()},methods:i()({},e.i(n.a)(["NOTIFY_MESSAGE_GET","MARK_NOTIFY_MESSAGE"]),{getMessages:function(){var t=this.$store.state.user.id;this.NOTIFY_MESSAGE_GET(t)},markAsRead:function(){var t=this.$store.state.user.id;this.MARK_NOTIFY_MESSAGE(t)}}),components:{SiteHeader:o.a}}},264:function(t,s,e){s=t.exports=e(171)(),s.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Message.vue",sourceRoot:"webpack://"}])},265:function(t,s,e){var a=e(264);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(184)("cad81fae",a,!0)},276:function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"message"}},[e("site-header"),t._v(" "),e("div",{staticClass:"wrapper"},[e("div",{staticClass:"panel-page"},[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:12,offset:6}},[e("div",{staticClass:"panel-header"},[e("div",{staticClass:"ui big breadcrumb"},[e("a",{staticClass:"section"},[t._v("首页")]),t._v(" "),e("i",{staticClass:"right chevron icon divider"}),t._v(" "),e("div",{staticClass:"active section"},[t._v("消息通知")])]),t._v(" "),e("span",[t._v("消息通知")]),t._v(" "),e("button",{staticClass:"ui button teal message-read-btn",on:{click:t.markAsRead}},[t._v("标记全部已读")])]),t._v(" "),e("div",{staticClass:"list-form"},[t.messages?t._e():e("div",{staticClass:"empty empty-wrapper"},[e("i",[t._v("╮(╯∀╰)╭")]),t._v(" "),e("span",{staticClass:"empty-tips"},[t._v("你还没有消息哦")])]),t._v(" "),t.messages?e("ul",{staticClass:"collect-list"},t._l(t.messages,function(s,a){return e("li",{staticClass:"collect-post-item"},["follow"===s.data.type?e("div",{staticClass:"message-info"},[e("div",{staticClass:"pull-left"},[e("a",[t._v(t._s(s.data.name))]),t._v("关注了你")])]):t._e(),t._v(" "),"comment"===s.data.type?e("div",{staticClass:"message-info"},[e("div",{staticClass:"pull-left"},[e("a",[t._v(t._s(s.data.name))]),t._v(" 评论了你的帖子 "),e("router-link",{attrs:{to:{name:"show",params:{id:s.data.id}}}},[t._v("\n                                        "+t._s(s.data.title)+"\n                                    ")])],1)]):t._e(),t._v(" "),"like"===s.data.type?e("div",{staticClass:"message-info"},[e("div",{staticClass:"pull-left"},[e("a",[t._v(t._s(s.data.name))]),t._v(" 赞了你的帖子 "),e("router-link",{attrs:{to:{name:"show",params:{id:s.data.id}}}},[t._v("\n                                        "+t._s(s.data.title)+"\n                                    ")])],1)]):t._e(),t._v(" "),"collect"===s.data.type?e("div",{staticClass:"message-info"},[e("div",{staticClass:"pull-left"},[e("a",[t._v(t._s(s.data.name))]),t._v(" 收藏了你的帖子 "),e("router-link",{attrs:{to:{name:"show",params:{id:s.data.id}}}},[t._v("\n                                        "+t._s(s.data.title)+"\n                                    ")])],1)]):t._e()])})):t._e()])])],1)],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=8.797c884bb9e39d8a936f.js.map