webpackJsonp([9,14],{181:function(t,e,s){var a=s(24)(s(261),s(282),null,null);t.exports=a.exports},187:function(t,e,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var o=s(69),i=a(o);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t}},194:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(187),o=s.n(a),i=s(62);e.default={data:function(){return{}},mounted:function(){sessionStorage.getItem("user")&&(this.$store.state.isLogin=!0,this.$store.state.user=JSON.parse(sessionStorage.getItem("user"))),this.getNotificationsCount()},computed:{isLogin:function(){return this.$store.state.isLogin},userAvatar:function(){return this.$store.state.user.avatar},userId:function(){return this.$store.state.user.id},notifications_count:function(){return this.$store.state.notifications_count}},methods:o()({},s.i(i.a)(["USER_SIGNOUT","NOTIFICATIONS_COUNT"]),{logout:function(){this.USER_SIGNOUT(),this.$router.push("/")},getNotificationsCount:function(){var t=this.$store.state.user.id;t&&this.NOTIFICATIONS_COUNT(t)}})}},195:function(t,e,s){var a=s(24)(s(194),s(196),null,null);t.exports=a.exports},196:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"site-header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-10 col-md-offset-1"},[s("div",{staticClass:"head-nav"},[s("router-link",{attrs:{to:{name:"start"}}},[s("h1",[t._v("IKnow")])]),t._v(" "),s("nav",{staticClass:"site-header-nav",attrs:{role:"navigation"}},[s("router-link",{staticClass:"site-header-nav-item active",attrs:{to:{name:"start"}}},[t._v("首页")]),t._v(" "),s("router-link",{staticClass:"site-header-nav-item",attrs:{to:{name:"start"}}},[t._v("名人圈")])],1)],1),t._v(" "),t.isLogin?s("div",{staticClass:"header-user-panel"},[s("section",[s("router-link",{staticClass:"message",attrs:{to:{name:"message"}}},[s("i",{staticClass:"fa fa-bell-o fa-header-bell"}),t._v(" "),t.notifications_count>0?s("span",{staticClass:"badge bell-badge"},[t._v(t._s(t.notifications_count))]):t._e()]),t._v(" "),s("el-dropdown",[s("a",{staticClass:"avatar el-dropdown-link"},[s("img",{attrs:{src:t.userAvatar}})]),t._v(" "),s("el-dropdown-menu",{slot:"dropdown"},[s("el-dropdown-item",[s("router-link",{attrs:{to:{name:"account",params:{id:t.userId}}}},[t._v("我的主页")])],1),t._v(" "),s("el-dropdown-item",[s("router-link",{attrs:{to:{name:"posts"}}},[t._v("我的帖子")])],1),t._v(" "),s("el-dropdown-item",[s("router-link",{attrs:{to:{name:"collect"}}},[t._v("我的收藏")])],1),t._v(" "),s("el-dropdown-item",[s("router-link",{attrs:{to:{name:"profile"}}},[t._v("账户设置")])],1),t._v(" "),s("el-dropdown-item",{attrs:{divided:""}},[s("a",{on:{click:t.logout}},[t._v("退出")])])],1)],1)],1)]):t._e(),t._v(" "),t.isLogin?t._e():s("div",{staticClass:"header-user-login"},[s("router-link",{attrs:{to:{name:"login"}}},[t._v("登录")]),t._v("\n                    /\n                    "),s("router-link",{attrs:{to:{name:"register"}}},[t._v("注册")])],1)])])])])},staticRenderFns:[]}},261:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(187),o=s.n(a),i=s(62),r=s(195),n=s.n(r);e.default={data:function(){return{user:{name:"",phone:"",city:"",site:"",description:""}}},mounted:function(){this.fetchData()},computed:{},watch:{$route:"fetchData"},methods:o()({},s.i(i.a)(["USER_PROFILE","PROFILE_EDIT"]),{fetchData:function(){var t=this,e=this.$store.state.user.id;this.axios.get("http://localhost:8000/api/user/profile/"+e).then(function(e){e.data.status&&(t.user=e.data.profile)})},profileEdit:function(){var t=this.user,e=this.$store.state.user.id;this.PROFILE_EDIT({userId:e,data:t}),this.$message({message:"用户信息更新成功",type:"success"})}}),components:{SiteHeader:n.a}}},266:function(t,e,s){t.exports=s.p+"static/img/my-avatar.ae55f2a.jpg"},282:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"profile"}},[a("site-header"),t._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"panel-page"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12,offset:6}},[a("div",{staticClass:"panel-header"},[a("div",{staticClass:"ui big breadcrumb"},[a("a",{staticClass:"section"},[t._v("首页")]),t._v(" "),a("i",{staticClass:"right chevron icon divider"}),t._v(" "),a("div",{staticClass:"active section"},[t._v("我的资料")])]),t._v(" "),a("span",[t._v("我的资料")])]),t._v(" "),a("div",{staticClass:"profile-form"},[a("div",{staticClass:"control-group"},[a("label",{staticClass:"control-label"},[t._v("头像")]),t._v(" "),a("div",{staticClass:"controls"},[a("img",{staticClass:"avatar",attrs:{src:s(266)}}),t._v(" "),a("a",[t._v("修改头像")])])]),t._v(" "),a("div",{staticClass:"control-group group-box"},[a("label",{staticClass:"control-label"},[t._v("昵称")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],attrs:{type:"text",placeholder:"请输入你的昵称"},domProps:{value:t._s(t.user.name)},on:{input:function(e){e.target.composing||(t.user.name=e.target.value)}}}),t._v(" "),a("p",{staticClass:"help-block"},[t._v("默认使用微信昵称")])])]),t._v(" "),a("div",{staticClass:"control-group group-box"},[a("label",{staticClass:"control-label"},[t._v("手机号码")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.phone,expression:"user.phone"}],attrs:{type:"text",placeholder:"请填写你的手机号"},domProps:{value:t._s(t.user.phone)},on:{input:function(e){e.target.composing||(t.user.phone=e.target.value)}}}),t._v(" "),a("p",{staticClass:"help-block"},[t._v("用于找回账号")])])]),t._v(" "),a("div",{staticClass:"control-group group-box"},[a("label",{staticClass:"control-label"},[t._v("城市")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.city,expression:"user.city"}],attrs:{type:"text",placeholder:"请填写你所在的城市"},domProps:{value:t._s(t.user.city)},on:{input:function(e){e.target.composing||(t.user.city=e.target.value)}}}),t._v(" "),a("p",{staticClass:"help-block"},[t._v("show出你的定位")])])]),t._v(" "),a("div",{staticClass:"control-group group-box"},[a("label",{staticClass:"control-label"},[t._v("站点")]),t._v(" "),a("div",{staticClass:"controls"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.user.site,expression:"user.site"}],attrs:{type:"text",placeholder:"http://example.com"},domProps:{value:t._s(t.user.site)},on:{input:function(e){e.target.composing||(t.user.site=e.target.value)}}}),t._v(" "),a("p",{staticClass:"help-block"},[t._v("让别人更加了解你")])])]),t._v(" "),a("div",{staticClass:"control-group group-box"},[a("label",{staticClass:"control-label"},[t._v("个人介绍")]),t._v(" "),a("div",{staticClass:"controls"},[a("el-input",{directives:[{name:"model",rawName:"v-model",value:t.user.description,expression:"user.description"}],attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入内容"},domProps:{value:t.user.description},on:{input:function(e){t.user.description=e}}}),t._v(" "),a("p",{staticClass:"help-block"},[t._v("必要的说明可以让别人更好的认识你")])],1)]),t._v(" "),a("div",{staticClass:"control-group group-box"},[a("el-button",{staticClass:"profile-save-btn",attrs:{type:"primary",size:"large"},on:{click:t.profileEdit}},[t._v("\n                                保存\n                            ")])],1)])])],1)],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=9.b2a31134bb2988be1437.js.map